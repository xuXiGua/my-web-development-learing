<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8" />
    <title>woshimeinv</title>
    <style>
        #slideshow{
            width: 100px;
            height: 100px;
            overflow: hidden;
            position: relative;
        }
    </style>
</head>

<body>
    <h1>web design</h1>
    <p>these are the things you should know.</p>
    <ol id="linklist">
        <li><a href="#">Structure</a></li>
        <li><a href="#">Presentation</a></li>
        <li><a href="#">Behavior</a></li>
    </ol>
    <div id="slideshow">
        <img src="images/p.jpg" alt="sakura" id="preview"/>
    </div>
    

    <script>
        function moveElement(elementID, final_x, final_y, interval){
            if(!document.getElementById) return false;
            if(!document.getElementById(elementID)) return false;
            const elem = document.getElementById(elementID);
            if(elem.movement) clearInterval(elem.movement);
            if(!elem.style.left) elem.style.left = '0';
            if(!elem.style.top) elem.style.top = '0';
            let xpos = parseInt(elem.style.left);
            let ypos = parseInt(elem.style.top);
            if(xpos === final_x && ypos === final_y){
                return true;
            }
            if(xpos < final_x) xpos+=Math.ceil((final_x-xpos)/10);
            if(xpos > final_x) xpos-=Math.ceil((xpos-final_x)/10);
            if(ypos < final_y) ypos++;
            if(ypos > final_y) ypos--;
            elem.style.left = xpos + 'px';
            elem.style.top = ypos + 'px';
            const repeat = "moveElement('"+elementID+"', "+final_x+", "+final_y+", "+interval+")";
            elem.movement = setInterval(repeat, interval);
        }
        function prepareSlideshow(){
            if(!document.getElementsByTagName || !document.getElementById) return false;
            if(!document.getElementById('linklist')) return false;
            if(!document.getElementById('preview')) return false;
            const preview = document.getElementById('preview');
            preview.style.position = 'absolute';
            preview.style.left = '0';
            preview.style.top = '0';
            const list = document.getElementById('linklist');
            const links = list.getElementsByTagName('a');
            for(let i = 0; i < links.length; i++){
                links[i].onmouseover = function(){
                    moveElement("preview", -100*i, 0, 10);
                }
            }
        }
        window.onload = prepareSlideshow;
    </script>
</body>
</html>
